 <!doctype html>
 <html>
 	<head>
     <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="static/estilos.css">
    </head>
     
    <body>
    
    <div>
        <form action = "cambioPantalla" method=post>

           <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
          <!-- Brand -->
          <a class="navbar-brand" href="#">Segmentación de Células</a>

          <!-- Links -->
          <ul class="navbar-nav">

               <!-- Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                Avance #3
              </a>
              <div class="dropdown-menu">
                  <button name = "cambiar" type="submit" value="imagenes" class="dropdown-item">Cargar un Directorio de Imágenes</button>
              </div>
            </li>
          </ul>
        </nav>
    </div>
    </form>
    <title>Imagenes</title>
    
    <div class="w3-container w3-teal">
        <h2>Cargar Imágenes</h2>
    </div>

 <div style= "margin-top: 20px"  class="w3-container">    
    <form action = "cargarImagenes" method=post enctype=multipart/form-data>

        <div style ="max-width: 500px" >
          <input style = "margin-top: 35px" name = "Segmentar" type=submit  value=Segmentar>
            <div style = "float:right">
                <label>Directorio de Imágenes</label>
                <input type = text style = "width: 10cm" class="w3-input w3-border w3-light-grey" name = directorioArchivos>
            </div>
        </div>       
    </form>
<div id = "contenedorCarruseles">
		{% if nombresImagenes|length !=0%}
		<div  id= "carrusel" class="carousel slide" data-ride="carousel">
		      <ol class="carousel-indicators">
		          {%for numero in range(1, nombresImagenes|length)%}
		         
		       		 <li data-target="#carrusel" data-slide-to="{{numero}}" class="active"></li>
		
		           {% endfor %} 
		      </ol>
		      <div class="carousel-inner">
		
		            {%for imagen in nombresImagenes%}
		                
		                {%if loop.index == 1%}
		                    <div class="carousel-item active">
		                      <img title = "Total de Células: {{cantidadCelulas[0]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
		                    </div>
		              
		                {%else%}
		
			                <div class="carousel-item">
			                  <img title = "Total de Células: {{cantidadCelulas[loop.index -1]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
			                </div>
		
		                {% endif %}
		
		            {% endfor %} 
		
		
		          <a class="carousel-control-prev" href="#carrusel" role="button" data-slide="prev">
		            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		            <span class="sr-only">Previous</span>
		          </a>
		          <a class="carousel-control-next" href="#carrusel" role="button" data-slide="next">
		            <span class="carousel-control-next-icon" aria-hidden="true"></span>
		            <span class="sr-only">Next</span>
		          </a>
		       </div> 
		      
		</div>
		
		{% endif %}
		
		     
		{% if nombresPred|length !=0%}
		<div  id= "carrusel2" class="carousel slide" data-ride="carousel">
		      <ol class="carousel-indicators">
		          {%for numero in range(1, nombresPred|length)%}
		         
		       		 <li data-target="#carrusel2" data-slide-to="{{numero}}" class="active"></li>
		
		           {% endfor %} 
		      </ol>
		      <div class="carousel-inner">
		
		            {%for imagen in nombresPred%}
		                
		                {%if loop.index == 1%}
		                    <div class="carousel-item active">
		                      <img title = "Total de Células: {{cantidadCelulas[0]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
		                    </div>
		              
		                {%else%}
		
			                <div class="carousel-item">
			                  <img title =  "Total de Células: {{cantidadCelulas[loop.index -1]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
			                </div>
		
		                {% endif %}
		
		            {% endfor %} 
		
		
		          <a class="carousel-control-prev" href="#carrusel2" role="button" data-slide="prev">
		            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		            <span class="sr-only">Previous</span>
		          </a>
		          <a class="carousel-control-next" href="#carrusel2" role="button" data-slide="next">
		            <span class="carousel-control-next-icon" aria-hidden="true"></span>
		            <span class="sr-only">Next</span>
		          </a>
		       </div>        
		</div>
		
		{% endif %}
		
		<!-- AQUI TERCER CARRUSEL -->
		
		{% if nombresEtiq|length !=0%}
		<div  id= "carrusel3" class="carousel slide" data-ride="carousel">
		      <ol class="carousel-indicators">
		          {%for numero in range(1, nombresEtiq|length)%}
		         
		       		 <li data-target="#carrusel3" data-slide-to="{{numero}}" class="active"></li>
		
		           {% endfor %} 
		      </ol>
		      <div class="carousel-inner">
		
		            {%for imagen in nombresEtiq%}
		                
		                {%if loop.index == 1%}
		                    <div class="carousel-item active">
		                      <img title = "Total de Células: {{cantidadCelulas[0]}} &#xA;Tiempo de Ejecución: {{totalImagenes[0]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
		                    </div>
		              
		                {%else%}
		
			                <div class="carousel-item">
			                  <img title =  "Total de Células: {{cantidadCelulas[loop.index -1]}} &#xA;Tiempo de Ejecución: {{totalImagenes[loop.index -1]}}" width ="550" height= "410" class="d-block w-100 imagenesCargadas" src="/static/{{imagen}}">
			                </div>
		
		                {% endif %}
		
		            {% endfor %} 
		
		
		          <a class="carousel-control-prev" href="#carrusel3" role="button" data-slide="prev">
		            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		            <span class="sr-only">Previous</span>
		          </a>
		          <a class="carousel-control-next" href="#carrusel3" role="button" data-slide="next">
		            <span class="carousel-control-next-icon" aria-hidden="true"></span>
		            <span class="sr-only">Next</span>
		          </a>
		       </div>        
		</div>
		
		{% endif %}

</div>
</div>

{%if totalEjecucion|length != 0%}
	<label id= "totalTime">Tiempo Total de Ejecución: {{totalEjecucion}} </label>  
{% endif %}

{%if nombresPred | length != 0%}

	<form action = "guardarResultados" method=post>
		       		<input name = "Resultados" class= "botonGuardar"style = "margin-top: 35px" type=submit  value="Guardar Resultados">  
	</form>
	
	<form action = "guardarCSV" method=post>
		       		<input name = "CSV" class = "botonGuardar"style = "margin-top: 35px" type=submit  value="Generar CSV">  
	</form>  
	
	<form  action = "guardarDICE" method=post>
		       		<input name = "DICE" class = "botonGuardar"style = "margin-top: 35px" type=submit  value="Generar DICE">  
	</form>       
<br>

<label id= "mensajeExito">{{mensajeExito}}</label>   

{% endif %}
        
    </body>
    </html>